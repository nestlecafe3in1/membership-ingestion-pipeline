version: '3'

services:
  airflow-scheduler:
    image: membership-pipeline:latest
    build:
      context: .
      dockerfile: dockerfile #  Docker Compose will build the image from the dockerfile in the current directory 

    volumes:
      - ./airflow:/opt/airflow #Volume to mount local directories to Airflow
      - ./data:/opt/data

    ports:
      - "8080:8080"
    command: airflow standalone